{% load i18n %}
{% load static %}
{% load cache %}

<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Charity aggregator in the Netherlands">
    <meta name="keywords" content="charity, nl, netherlands">
    <title>{% block title %} {% trans 'MainTitle' %} {% endblock %}</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/new_main.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/admin.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'css/ed.css' %}">
    {% block head %}{% endblock %}
    {% block head_scripts %}{% endblock %}
</head>
<body>
<header>
    <!-- Левая часть - Навигационное меню -->
    <div class="nav-menu">
        {% block nav %}
            <nav>
                <ul>
                    <li><a href="{% url 'map' %}"> {% trans 'Map' %}</a></li>
                    <li><a href="{% url 'organisation_list_filtered' %}">{% trans 'All Orgs' %}</a></li>
                    <li><a href="{% url 'edit-choice' %}">{% trans 'For Orgs' %}</a></li>
                    <li class="dropdown">
                        <span class="dropdown-toggle">{% trans 'About' %} &#9662;</span>
                        <ul class="dropdown-content">
                            <li><a href="{% url 'about' %}">{% trans "User's Feedback" %}</a></li>
                            <li><a href="{% url 'about' %}">{% trans 'Feedback' %} </a></li>
                        </ul>
                    </li>
                </ul>
            </nav>
        {% endblock %}
    </div>

    <!-- Правая часть - Login, Register, Language Menu -->
    <div class="right-menu">
        <!-- Дополнительные элементы, например, Login и Register -->
        {% if user.is_authenticated %}
            <a href="{% url 'profile1' %}">{% trans 'Profile' %}</a>
            <a href="{% url 'logout' %}">{% trans 'Logout' %}</a>
        {% else %}
            <a href="{% url 'login' %}">{% trans 'Login' %}</a>
            <a href="{% url 'registration_view' %}">{% trans 'Register' %}</a>
        {% endif %}
        {% cache 900 "language_menu" %}
            <div class="language-switch">
                <img src="{% static 'images/ru.png' %}" alt="Switch to Russian" onclick="setLanguageAndReload('ru')">
                <img src="{% static 'images/nl.png' %}" alt="Switch to Dutch" onclick="setLanguageAndReload('nl')">
                <img src="{% static 'images/uk.png' %}" alt="Switch to English" onclick="setLanguageAndReload('en')">
            </div>
        {% endcache %}

    </div>
</header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <p><a href="/">{% trans 'Home' %}</a> |</p>
        <p>&copy;2023 NL {% trans 'Charity' %} |</p>
        <p> <a href="{% url 'about' %}">{% trans 'About' %}</a></p>
    </footer>

{% block javascript %}
<script>
    var LANGUAGE_COOKIE_NAME = "language_cookie";

    function setLanguageAndReload(languageCode) {
        document.cookie = LANGUAGE_COOKIE_NAME + "=" + languageCode + "; path=/";
        location.reload();
}
</script>
{% endblock %}

</body>
</html>
